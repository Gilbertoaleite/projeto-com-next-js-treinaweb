(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[697],{8010:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_cadastro",function(){return t(5843)}])},5843:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return y}});var r=t(5666),i=t.n(r),c=t(5893),a=t(7294),s=t(9008),o=t(9895),u=t(1749),l=t(7201),d=t(2822),h=t(998),x=t(2456),f=t(1860),j=t(7812),m=t(282),g=t(6258);function p(n,e,t,r,i,c,a){try{var s=n[c](a),o=s.value}catch(u){return void t(u)}s.done?e(o):Promise.resolve(o).then(r,i)}function Z(n){return function(){var e=this,t=arguments;return new Promise((function(r,i){var c=n.apply(e,t);function a(n){p(c,r,i,a,s,"next",n)}function s(n){p(c,r,i,a,s,"throw",n)}a(void 0)}))}}function v(n){return function(n){if(Array.isArray(n)){for(var e=0,t=new Array(n.length);e<n.length;e++)t[e]=n[e];return t}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function y(){var n=function(){r(""),b(""),k(""),E(""),O(""),T(""),X([]),L(""),z([])},e=(0,a.useState)(""),t=e[0],r=e[1],p=(0,a.useState)(""),y=p[0],b=p[1],C=(0,a.useState)(""),w=C[0],k=C[1],S=(0,a.useState)(""),_=S[0],E=S[1],N=(0,a.useState)(""),A=N[0],O=N[1],P=(0,a.useState)(""),W=P[0],T=P[1],R=(0,a.useState)([]),I=R[0],X=R[1],D=(0,a.useState)(""),J=D[0],L=D[1],M=(0,a.useState)([]),q=M[0],z=M[1];function B(){return(B=Z(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(![t,y,w,_,A,I,q].map((function(n){return n.length})).includes(0)){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,g.j.create({name:t,img:y,category:w,servings:_,time:A,ingredients:I,directions:q});case 5:return e.sent,e.next=8,g.j.edit({name:t,img:y,category:w,servings:_,time:A,ingredients:I,directions:q});case 8:e.sent,n();case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,c.jsxs)("div",{children:[(0,c.jsxs)(s.default,{children:[(0,c.jsx)("title",{children:"Cadastro de Receita"}),(0,c.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"})]}),(0,c.jsx)("h1",{children:"Cadastro de Receita"}),(0,c.jsx)(o.Z,{style:{margin:"24px auto",maxWidth:"800px",padding:"12px"},children:(0,c.jsxs)(u.Z,{container:!0,spacing:2,children:[(0,c.jsx)(u.Z,{item:!0,container:!0,justify:"center",children:(0,c.jsx)("img",{width:250,src:y})}),(0,c.jsx)(u.Z,{item:!0,xs:12,children:(0,c.jsx)(l.Z,{label:"Imagem",value:y,onChange:function(n){return b(n.target.value)},fullWidth:!0})}),(0,c.jsx)(u.Z,{item:!0,xs:12,children:(0,c.jsx)(l.Z,{label:"Nome",value:t,onChange:function(n){return r(n.target.value)},fullWidth:!0})}),(0,c.jsx)(u.Z,{item:!0,xs:12,children:(0,c.jsx)(l.Z,{label:"Categoria",value:w,onChange:function(n){return k(n.target.value)},fullWidth:!0})}),(0,c.jsx)(u.Z,{item:!0,xs:6,children:(0,c.jsx)(l.Z,{label:"Tempo de Preparo",value:A,onChange:function(n){return O(n.target.value)},fullWidth:!0})}),(0,c.jsx)(u.Z,{item:!0,xs:6,children:(0,c.jsx)(l.Z,{label:"Rendimento",value:_,onChange:function(n){return E(n.target.value)},fullWidth:!0})}),(0,c.jsxs)(u.Z,{item:!0,xs:12,container:!0,spacing:2,children:[(0,c.jsx)(u.Z,{item:!0,xs:12,children:(0,c.jsx)("h2",{children:"Ingredientes"})}),(0,c.jsx)(u.Z,{item:!0,xs:12,container:!0,children:(0,c.jsx)(d.Z,{children:I.map((function(n){return(0,c.jsxs)(h.Z,{children:[(0,c.jsx)(x.Z,{children:n}),(0,c.jsx)(f.Z,{children:(0,c.jsx)(j.Z,{edge:"end","aria-label":"delete",color:"secondary",onClick:function(){return e=n,void X(I.filter((function(n){return n!==e})));var e},children:"X"})})]},n)}))})}),(0,c.jsxs)(u.Z,{item:!0,xs:12,container:!0,spacing:2,children:[(0,c.jsx)(u.Z,{item:!0,xs:10,children:(0,c.jsx)(l.Z,{label:"Novo Ingrediente",value:W,onChange:function(n){return T(n.target.value)},fullWidth:!0})}),(0,c.jsx)(u.Z,{item:!0,xs:2,children:(0,c.jsx)(m.Z,{variant:"outlined",onClick:function(){W&&-1===I.indexOf(W)&&(X(v(I).concat([W])),T(""))},children:"Adicionar"})})]})]}),(0,c.jsxs)(u.Z,{item:!0,xs:12,container:!0,spacing:2,children:[(0,c.jsx)(u.Z,{item:!0,xs:12,children:(0,c.jsx)("h2",{children:"Modo de Preparo"})}),(0,c.jsx)(u.Z,{item:!0,xs:12,container:!0,children:(0,c.jsx)(d.Z,{children:q.map((function(n){return(0,c.jsxs)(h.Z,{children:[(0,c.jsx)(x.Z,{children:n}),(0,c.jsx)(f.Z,{children:(0,c.jsx)(j.Z,{edge:"end","aria-label":"delete",color:"secondary",onClick:function(){return e=n,void z(q.filter((function(n){return n!==e})));var e},children:"X"})})]},n)}))})}),(0,c.jsxs)(u.Z,{item:!0,xs:12,container:!0,spacing:2,children:[(0,c.jsx)(u.Z,{item:!0,xs:10,children:(0,c.jsx)(l.Z,{label:"Novo Passo",value:J,onChange:function(n){return L(n.target.value)},fullWidth:!0})}),(0,c.jsx)(u.Z,{item:!0,xs:2,children:(0,c.jsx)(m.Z,{onClick:function(){J&&-1===q.indexOf(J)&&(z(v(q).concat([J])),L(""))},variant:"outlined",children:"Adicionar"})})]})]}),(0,c.jsxs)(u.Z,{item:!0,xs:12,container:!0,justify:"center",spacing:2,children:[(0,c.jsx)(u.Z,{item:!0,children:(0,c.jsx)(m.Z,{onClick:n,children:"Reiniciar"})}),(0,c.jsx)(u.Z,{item:!0,children:(0,c.jsx)(m.Z,{color:"primary",variant:"contained",onClick:function(){return B.apply(this,arguments)},children:"Cadastrar"})})]})]})})]})}},6258:function(n,e,t){"use strict";t.d(e,{j:function(){return o}});var r="http://localhost:3002/api/",i=function(n){return fetch("".concat(r).concat(n)).then((function(n){return n.json()}))},c=function(n,e){return fetch("".concat(r).concat(n),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(e)}).then((function(n){return n.json()}))},a=function(n){return fetch("".concat(r).concat(n),{method:"DELETE"}).then((function(n){return n.json()}))},s="recipe",o={get:function(n){return i("".concat(s,"?id=").concat(n))},listAll:function(){return i(s)},create:function(n){return c(s,n)},remove:function(n){return a("".concat(s,"?id=").concat(n))}}}},function(n){n.O(0,[182,615,774,888,179],(function(){return e=8010,n(n.s=e);var e}));var e=n.O();_N_E=e}]);